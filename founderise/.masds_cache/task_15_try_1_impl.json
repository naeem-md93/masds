{"reasoning": "The task involves creating comprehensive Jest tests for the LLM microservice's API endpoints. The tests will verify all endpoints mentioned in the PRD, including the health check route and the functionality to add a new LLM configuration. The script will ensure dependencies like Jest are installed in a fully automated manner to avoid user prompts, run the tests, and confirm that they pass successfully.", "implementation": ["#!/usr/bin/env bash", "set -euo pipefail", "", "# Navigate to the project directory", "cd $(dirname \"$0\")/../../../../", "", "# Ensure necessary dependencies (Jest) are installed", "echo 'Installing Jest...'", "npm install --save-dev jest --yes", "", "# Verify Jest was installed correctly", "echo 'Jest installed successfully.'", "", "# Write Jest tests into llmRoutes.test.js", "mkdir -p src/microservices/llm/tests", "cat << 'EOF' > src/microservices/llm/tests/llmRoutes.test.js", "const request = require('supertest');", "const express = require('express');", "const addLLMRouter = require('../routes/addLLM');", "", "// Setup test app", "const app = express();", "app.use(express.json());", "app.use(addLLMRouter);", "", "describe('LLM API Endpoints', () => {", "  it('should respond to a health check', async () => {", "    const response = await request(app).get('/health');", "    expect(response.status).toBe(200);", "    expect(response.body.status).toBe('LLM Microservice is healthy');", "  });", "", "  it('should create a new LLM configuration', async () => {", "    const llmConfig = { name: 'Test LLM', apiKey: '123abc', endpoint: 'http://localhost:4000' };", "    const response = await request(app).post('/addLLM').send(llmConfig);", "    expect(response.status).toBe(201);", "    expect(response.body.message).toBe('LLM configuration added successfully');", "    expect(response.body.data).toEqual(llmConfig);", "  });", "", "  it('should return 400 for missing fields in LLM configuration', async () => {", "    const incompleteConfig = { name: 'Test LLM', apiKey: '123abc' };", "    const response = await request(app).post('/addLLM').send(incompleteConfig);", "    expect(response.status).toBe(400);", "    expect(response.body.error).toBe('Missing required fields: name, apiKey, endpoint');", "  });", "});", "EOF", "", "# Run Jest tests", "echo 'Running Jest tests...'", "npx jest src/microservices/llm/tests/llmRoutes.test.js", "", "# Output success message if tests pass", "echo '\u2705 All tests passed successfully.'"]}