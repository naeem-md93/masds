{"reasoning": "The task requires implementing tests for LLM microservice API routes in Jest. The file `src/microservices/llm/tests/llmRoutes.test.js` needs to be created or modified. The following steps will fulfill the requirement: 1) Ensure dependencies like Jest are installed in a non-interactive manner to avoid prompts, 2) Create the test file and write tests covering LLM route functionality as per the PRD, 3) Execute the tests with Jest to validate, handling npm cache issues if necessary, 4) Avoid branch creation errors by checking if the branch already exists, and rerunning the tests if there are previously reported timeouts.", "implementation": ["#!/usr/bin/env bash", "set -euo pipefail", "", "echo '\ud83d\udd04 Switching to or creating branch b16/llm-test-routes'", "git checkout b16/llm-test-routes || git checkout -b b16/llm-test-routes", "", "echo '\ud83e\uddf9 Cleaning npm cache to avoid installation errors...'", "npm cache clean --force", "", "echo '\ud83d\udce6 Installing Jest non-interactively for testing...'", "npm install --save-dev jest --yes", "", "echo '\ud83d\udd27 Creating or updating test file for LLM routes...'", "mkdir -p src/microservices/llm/tests", "cat << 'EOF' > src/microservices/llm/tests/llmRoutes.test.js", "const request = require('supertest');", "const express = require('express');", "const bodyParser = require('body-parser');", "const addLLMRouter = require('../routes/addLLM');", "", "const app = express();", "app.use(bodyParser.json());", "app.use(addLLMRouter);", "", "describe('LLM Microservice API Routes', () => {", "  test('POST /addLLM should add a new LLM configuration', async () => {", "    const response = await request(app)", "      .post('/addLLM')", "      .send({", "        name: 'Test LLM',", "        apiKey: 'testApiKey123',", "        endpoint: 'https://test-endpoint.com'", "      });", "    ", "    expect(response.status).toBe(201);", "    expect(response.body).toHaveProperty('message', 'LLM configuration added successfully');", "    expect(response.body.data).toMatchObject({", "      name: 'Test LLM',", "      apiKey: 'testApiKey123',", "      endpoint: 'https://test-endpoint.com'", "    });", "  });", "", "  test('POST /addLLM should return an error for missing fields', async () => {", "    const response = await request(app)", "      .post('/addLLM')", "      .send({", "        name: '',", "        apiKey: '',", "        endpoint: ''", "      });", "    ", "    expect(response.status).toBe(400);", "    expect(response.body).toHaveProperty('error', 'Missing required fields: name, apiKey, endpoint');", "  });", "});", "EOF", "", "echo '\ud83e\uddea Running Jest tests for LLM routes...'", "npx jest src/microservices/llm/tests/llmRoutes.test.js --testTimeout=20000", "", "echo '\u2705 Task complete.'"]}